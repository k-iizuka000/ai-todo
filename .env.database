# ====================================================
# データベース接続設定ファイル
# ====================================================
# このファイルは、アプリケーションからデータベースへの接続設定を管理します。
# 本番環境では、環境変数またはシークレット管理システムを使用してください。

# ----------------------------------------------------
# PostgreSQL接続設定
# ----------------------------------------------------
# 標準的な接続文字列形式（Prisma/TypeORM等で使用）
DATABASE_URL="postgresql://ai_todo_user:dev_password_2024@localhost:5433/ai_todo_dev"

# Docker Compose内部からの接続用（コンテナ間通信）
DATABASE_URL_DOCKER="postgresql://ai_todo_user:dev_password_2024@database:5432/ai_todo_dev"

# ----------------------------------------------------
# 個別の接続パラメーター（必要に応じて使用）
# ----------------------------------------------------
DB_HOST="localhost"
DB_HOST_DOCKER="database"
DB_PORT="5433"
DB_PORT_DOCKER="5432"
DB_NAME="ai_todo_dev"
DB_USER="ai_todo_user"
DB_PASSWORD="dev_password_2024"

# ----------------------------------------------------
# 接続プール設定
# ----------------------------------------------------
DB_POOL_MIN="2"
DB_POOL_MAX="10"
DB_POOL_IDLE_TIMEOUT="10000"

# ----------------------------------------------------
# SSL/TLS設定（本番環境用）
# ----------------------------------------------------
DB_SSL_MODE="prefer"  # disable, allow, prefer, require, verify-ca, verify-full
# DB_SSL_CA="/path/to/ca-cert.pem"
# DB_SSL_CERT="/path/to/client-cert.pem"
# DB_SSL_KEY="/path/to/client-key.pem"

# ----------------------------------------------------
# その他のデータベース設定
# ----------------------------------------------------
DB_CONNECTION_TIMEOUT="10000"  # ミリ秒
DB_STATEMENT_TIMEOUT="30000"   # ミリ秒
DB_QUERY_TIMEOUT="10000"        # ミリ秒
DB_IDLE_IN_TRANSACTION_SESSION_TIMEOUT="30000"  # ミリ秒

# ----------------------------------------------------
# 環境別設定
# ----------------------------------------------------
NODE_ENV="development"  # development, staging, production

# 使用方法:
# 1. このファイルをコピーして .env.local を作成
#    cp .env.database .env.local
#
# 2. docker-compose.ymlで使用する場合:
#    env_file:
#      - .env.local
#
# 3. アプリケーションコードでの使用例（Node.js）:
#    const dbUrl = process.env.NODE_ENV === 'production' 
#      ? process.env.DATABASE_URL 
#      : process.env.DATABASE_URL_DOCKER || process.env.DATABASE_URL;
#
# 4. 本番環境では必ずパスワードを変更し、安全な方法で管理してください