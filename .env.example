# AI TODO Application Environment Variables (改良版)
# 設計書グループ1: Docker環境構成
# Version: 2.0 (改良版)
# Date: 2025-08-28

# ==================================================
# データベース設定（改良版）
# ==================================================

# PostgreSQL接続情報
DATABASE_URL=postgresql://ai_todo_user:dev_password_2024@localhost:5432/ai_todo_dev
DB_HOST=localhost
DB_PORT=5432
DB_NAME=ai_todo_dev
DB_USER=ai_todo_user
DB_PASSWORD=dev_password_2024

# データベース接続プール設定（改良版）
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_POOL_IDLE_TIMEOUT=10000
DB_STATEMENT_TIMEOUT=30000
DB_IDLE_IN_TRANSACTION_SESSION_TIMEOUT=60000

# SSL設定（本番環境では'require'に変更）
DB_SSL_MODE=disable

# ==================================================
# 管理ツール設定
# ==================================================

# pgAdmin設定
PGADMIN_PASSWORD=admin_secure_2024
PGADMIN_DEFAULT_EMAIL=admin@ai-todo.local

# ==================================================
# アプリケーション設定
# ==================================================

# 開発環境設定
NODE_ENV=development
VITE_APP_ENV=development
VITE_HOST=0.0.0.0
VITE_PORT=5173

# API設定
VITE_API_BASE_URL=http://localhost:3001
VITE_WS_URL=ws://localhost:3001

# ==================================================
# Supabase設定（本番環境用）
# ==================================================

# Supabase接続情報（本番環境で使用）
# SUPABASE_URL=https://your-project.supabase.co
# SUPABASE_SERVICE_KEY=your_service_key
# SUPABASE_ANON_KEY=your_anon_key

# Supabase認証設定
# SUPABASE_JWT_SECRET=your_jwt_secret

# ==================================================
# セキュリティ設定（改良版）
# ==================================================

# JWT設定
JWT_SECRET=your_super_secret_jwt_key_change_in_production
JWT_EXPIRES_IN=24h

# セッション設定
SESSION_SECRET=your_session_secret_change_in_production
COOKIE_SECURE=false  # 本番環境では'true'に変更

# CORS設定
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# ==================================================
# 外部サービス設定
# ==================================================

# メール送信設定（開発環境では無効）
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your_email@gmail.com
# SMTP_PASSWORD=your_app_password
# SMTP_FROM=noreply@ai-todo.local

# ファイルストレージ設定
# AWS_ACCESS_KEY_ID=your_aws_access_key
# AWS_SECRET_ACCESS_KEY=your_aws_secret_key
# AWS_REGION=ap-northeast-1
# AWS_S3_BUCKET=ai-todo-attachments

# ==================================================
# ログ設定（改良版）
# ==================================================

# ログレベル（development: debug, production: info）
LOG_LEVEL=debug
LOG_FORMAT=combined

# ログファイル設定
LOG_FILE_ENABLED=true
LOG_FILE_PATH=./logs/application.log
LOG_FILE_MAX_SIZE=10MB
LOG_FILE_MAX_FILES=5

# ==================================================
# パフォーマンス設定（改良版）
# ==================================================

# キャッシュ設定
REDIS_URL=redis://localhost:6379
CACHE_TTL=3600  # 1時間

# レート制限設定
RATE_LIMIT_WINDOW_MS=900000  # 15分
RATE_LIMIT_MAX_REQUESTS=100

# ==================================================
# 機能フラグ設定（改良版）
# ==================================================

# 開発機能の有効/無効
FEATURE_DEBUG_MODE=true
FEATURE_SQL_LOGGING=true
FEATURE_PERFORMANCE_MONITORING=true

# 実験的機能
FEATURE_AI_SUGGESTIONS=false
FEATURE_ADVANCED_ANALYTICS=false
FEATURE_REAL_TIME_COLLABORATION=false

# ==================================================
# 監視・分析設定
# ==================================================

# 分析ツール設定
# GOOGLE_ANALYTICS_ID=GA_MEASUREMENT_ID
# MIXPANEL_TOKEN=your_mixpanel_token

# エラー追跡設定
# SENTRY_DSN=your_sentry_dsn
# SENTRY_ENVIRONMENT=development

# ==================================================
# 開発ツール設定
# ==================================================

# Hot Reload設定
CHOKIDAR_USEPOLLING=true
VITE_HMR_PORT=24678

# Storybook設定
STORYBOOK_PORT=6006

# テスト設定
JEST_WORKERS=4
TEST_TIMEOUT=30000

# ==================================================
# 注意事項
# ==================================================

# 本番環境では以下を必ず変更してください：
# 1. すべてのパスワードとシークレットキー
# 2. SSL_MODE を 'require' に変更
# 3. COOKIE_SECURE を 'true' に変更
# 4. LOG_LEVEL を 'info' または 'warn' に変更
# 5. FEATURE_DEBUG_MODE を 'false' に変更
# 6. 不要な開発機能フラグを無効化