# ====================================================
# AI TODO アプリケーション - 環境変数設定サンプル
# ====================================================
# このファイルを .env.local にコピーして使用してください
# cp .env.local.example .env.local
#
# 【重要】
# - .env.local は .gitignore に含まれており、Gitにコミットされません
# - 機密情報は絶対にGitにコミットしないでください
# - 本番環境では環境変数またはシークレット管理システムを使用してください

# ====================================================
# データベース接続設定
# ====================================================
# ホストマシンから接続する場合（開発時）
DATABASE_URL="postgresql://ai_todo_user:dev_password_2024@localhost:5433/ai_todo_dev"

# Dockerコンテナ内から接続する場合
DATABASE_URL_DOCKER="postgresql://ai_todo_user:dev_password_2024@database:5432/ai_todo_dev"

# 個別接続パラメーター
DB_HOST="localhost"
DB_PORT="5433"
DB_NAME="ai_todo_dev"
DB_USER="ai_todo_user"
DB_PASSWORD="dev_password_2024"  # 本番環境では強力なパスワードを使用

# 接続プール設定
DB_POOL_MIN="2"
DB_POOL_MAX="10"
DB_CONNECTION_TIMEOUT="10000"

# ====================================================
# アプリケーション設定
# ====================================================
NODE_ENV="development"
APP_PORT="5173"
API_BASE_URL="http://localhost:5173/api"

# ====================================================
# 認証設定（将来の実装用）
# ====================================================
# JWT_SECRET="your-secret-key-here"  # 本番環境では強力なシークレットキーを生成
# JWT_EXPIRES_IN="7d"
# REFRESH_TOKEN_EXPIRES_IN="30d"

# ====================================================
# 外部サービス設定（将来の実装用）
# ====================================================
# REDIS_URL="redis://localhost:6379"
# SMTP_HOST="smtp.gmail.com"
# SMTP_PORT="587"
# SMTP_USER=""
# SMTP_PASSWORD=""

# ====================================================
# モニタリング・ロギング設定
# ====================================================
LOG_LEVEL="debug"  # error, warn, info, debug
LOG_FORMAT="json"  # json, text

# ====================================================
# セキュリティ設定
# ====================================================
CORS_ORIGIN="http://localhost:5173"
RATE_LIMIT_MAX_REQUESTS="100"
RATE_LIMIT_WINDOW_MS="900000"  # 15分

# ====================================================
# 開発ツール設定
# ====================================================
VITE_HOST="0.0.0.0"
VITE_PORT="5173"
CHOKIDAR_USEPOLLING="true"  # Docker環境でのファイル監視

# pgAdmin設定（開発環境のみ）
PGADMIN_DEFAULT_EMAIL="admin@ai-todo.local"
PGADMIN_DEFAULT_PASSWORD="admin"  # 開発環境のみ

# ====================================================
# 環境別の設定例
# ====================================================
# 本番環境では以下のような設定を使用：
# NODE_ENV="production"
# DATABASE_URL="${SECRET_DATABASE_URL}"  # シークレット管理から取得
# JWT_SECRET="${SECRET_JWT_KEY}"
# DB_SSL_MODE="require"
# LOG_LEVEL="warn"

# ====================================================
# 使用方法
# ====================================================
# 1. このファイルをコピー
#    cp .env.local.example .env.local
#
# 2. 必要に応じて値を変更
#
# 3. Docker Composeで使用
#    docker-compose up
#
# 4. アプリケーションで環境変数を読み込み
#    - Node.js: process.env.DATABASE_URL
#    - Vite: import.meta.env.VITE_API_URL

# ====================================================
# セキュリティチェックリスト
# ====================================================
# [ ] パスワードは強力なものに変更済み
# [ ] シークレットキーは安全に生成済み
# [ ] .env.local は .gitignore に含まれている
# [ ] 本番環境では環境変数を使用
# [ ] 機密情報のログ出力は無効化済み