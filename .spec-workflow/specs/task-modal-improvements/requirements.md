# タスクモーダル改善仕様

## 概要
タスクの追加モーダルと編集モーダルにおける不具合を修正し、ユーザビリティを向上させる。

## 対象画面
1. タスク追加モーダル（/dashboard）
2. タスク編集モーダル（/dashboard/{taskId}）

## 1. タスク追加モーダル（/dashboard）

### 現状の問題点
1. **タグプルダウン表示問題**
   - 登録されているタグがプルダウンに表示されない
   - タグが新規登録できてしまう（既存タグのみ選択可能にすべき）

2. **タグ選択動作問題**
   - タグを一つセットした時点で即座に登録されてしまう
   - 複数タグを選択してから登録することができない

### 改善要件
1. **タグプルダウン修正**
   - 登録済みタグのみをプルダウンに表示
   - 新規タグの登録機能を無効化（既存タグの選択のみ）

2. **タグ選択動作改善**
   - 複数タグを選択可能にする
   - タスク登録ボタンを押すまで登録されないようにする

## 2. タスク編集モーダル（/dashboard/{taskId}）

### 現状の問題点
1. **サブタスク表示問題**
   - サブタスク登録後、即時反映されない
   - モーダルを閉じて開き直さないと表示されない

2. **デザイン問題**
   - CSS余白が不足している
   - 全体的なデザインが整っていない
   - /dashboard/demoの「4. タスク詳細ビュー」のようなデザインが理想

3. **UI動作の不整合**
   - タグ編集の動作が追加モーダルと異なる
   - プロジェクト編集の動作が追加モーダルと異なる

4. **操作性問題**
   - 「更新」ボタンが存在しない
   - ユーザーが変更を保存する方法が不明確

### 改善要件
1. **サブタスク即時反映**
   - サブタスク登録後、画面を即座に更新
   - リアルタイムでのサブタスクリスト更新

2. **デザイン統一**
   - 追加モーダルと同じデザインに統一
   - 適切な余白（padding/margin）の設定
   - /dashboard/demoの「4. タスク詳細ビュー」を参考にしたデザイン実装

3. **UI動作統一**
   - タグ選択動作を追加モーダルと同一にする
   - プロジェクト選択動作を追加モーダルと同一にする

4. **更新ボタン追加**
   - 明確な「更新」ボタンの実装
   - 変更内容の保存機能

## 成功条件
1. 追加モーダルでタグが正しく選択・複数設定できる
2. 編集モーダルでサブタスクが即時反映される
3. 両モーダルのデザインが統一されている
4. 編集モーダルに更新ボタンが存在し、正常に動作する
5. タグ・プロジェクトの動作が両モーダルで統一されている

## テスト項目
1. タグプルダウンに既存タグのみ表示されることを確認
2. 複数タグの選択・登録が可能なことを確認
3. サブタスク登録後の即時反映を確認
4. デザインの統一性を確認
5. 更新ボタンの動作確認