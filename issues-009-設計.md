# Issue 009: サイドメニューから「重要なタスク」と「完了済みタスク」項目を削除する設計書

## 1. 現状分析

### 1.1 サイドメニューの実装構造
- **Sidebar.tsx**: ルート定義（routes.ts）からメニュー項目を動的に生成
- **routes.ts**: ルート構成を定義し、タスク管理の子要素として「重要なタスク」「完了済みタスク」が存在
- **AppRouter.tsx**: Reactルーターの設定で、対応するルートパスを定義

### 1.2 影響範囲
削除対象のメニュー項目は以下の箇所で参照されている：

#### routes.ts（21-22行目）
```typescript
{ path: '/tasks/important', label: '重要なタスク' },
{ path: '/tasks/completed', label: '完了済みタスク' },
```

#### AppRouter.tsx（72-75行目）
```typescript
<Route path="tasks/important" element={<Tasks />} />
<Route path="tasks/important/:taskId" element={<Tasks />} />
<Route path="tasks/completed" element={<Tasks />} />
<Route path="tasks/completed/:taskId" element={<Tasks />} />
```

#### Tasks.tsx（42-44, 126-132, 159-162行目）
- URLパスに基づくページタイプの判定ロジック
- フィルタリング処理
- ページタイトルの設定

## 2. 実装方針

### 2.1 基本方針
- サイドメニューから視覚的に項目を削除
- 既存のURLアクセスは維持（直接URLアクセスする場合の互換性確保）
- タスクフィルタリング機能は残す（内部ロジックとして保持）

### 2.2 削除方法
routes.tsから該当項目を削除することで、Sidebar.tsxが動的にメニューを生成する仕組みを活用し、最小限の変更で実現する。

## 3. 実装設計

## グループ1: ルート定義の更新 [@Phase1]
### 対象ファイル
- `/src/router/routes.ts`

### 変更内容
- タスク管理のchildren配列から以下の2項目を削除：
  - `{ path: '/tasks/important', label: '重要なタスク' }`（21行目）
  - `{ path: '/tasks/completed', label: '完了済みタスク' }`（22行目）

### 削除後の構造
```typescript
children: [
  { path: '/tasks', label: '全てのタスク' },
  { path: '/tasks/today', label: '今日のタスク' },
  { path: '/tasks/demo', label: 'タスク詳細デモ' },
]
```

## グループ2: レイアウト確認と調整
### 対象
- サイドメニューの表示確認
- 空白やレイアウト崩れのチェック

### 確認項目
- メニュー項目間のスペーシング
- タスク管理サブメニューの折りたたみ動作
- モバイル表示での確認

## グループ3: 機能テスト
### テスト項目
1. **サイドメニュー表示**
   - 「重要なタスク」が表示されていないこと
   - 「完了済みタスク」が表示されていないこと
   - 他のメニュー項目が正常に表示されること

2. **URL直接アクセス**（互換性維持）
   - `/tasks/important`へのアクセスが正常に動作すること
   - `/tasks/completed`へのアクセスが正常に動作すること
   - フィルタリング機能が正常に動作すること

3. **既存機能の動作確認**
   - 全てのタスク表示
   - 今日のタスク表示
   - タスク詳細デモページ
   - タスクの作成、編集、削除機能

## 4. リスク評価と対策

### 4.1 リスク
- **低リスク**: routes.tsの変更のみで実現可能
- **互換性**: 既存のURLパスは維持されるため、ブックマークや外部リンクへの影響なし

### 4.2 対策
- AppRouter.tsxのルート定義は削除せず、URL直接アクセスの互換性を保持
- Tasks.tsxのフィルタリングロジックは変更せず、内部機能として維持

## 5. 実装手順

1. **routes.tsの編集**
   - 該当行の削除
   - インデントの調整

2. **動作確認**
   - 開発サーバーの再起動
   - ブラウザでのサイドメニュー確認
   - 各種機能テストの実施

3. **品質確認**
   - レイアウト崩れがないか確認
   - 他の機能への影響がないか確認

## 6. 注意事項

### 6.1 削除しない要素
- AppRouter.tsxのルート定義（互換性のため）
- Tasks.tsxのフィルタリングロジック（機能維持のため）

### 6.2 将来的な考慮事項
- 完全にこれらの機能を削除する場合は、以下の追加作業が必要：
  - AppRouter.tsxからルート定義を削除
  - Tasks.tsxからページタイプ判定とフィルタリングロジックを削除
  - 関連するテストケースの削除または更新

## 7. 実装の妥当性

この設計は以下の理由により最適である：

1. **最小限の変更**: routes.ts の2行削除のみ
2. **影響範囲の限定**: サイドメニューの表示のみに影響
3. **互換性の維持**: 既存URLアクセスは引き続き動作
4. **ロールバックの容易さ**: 必要に応じて簡単に元に戻せる
5. **保守性**: コードの複雑性を増加させない